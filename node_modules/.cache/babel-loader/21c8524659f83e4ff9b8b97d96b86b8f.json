{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  }\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar grapesjs_1 = __importDefault(require(\"grapesjs\"));\n\nvar grapesjs_blocks_basic_1 = __importDefault(require(\"grapesjs-blocks-basic\"));\n\nvar grapesjs_preset_newsletter_1 = __importDefault(require(\"grapesjs-preset-newsletter\")); // Presets and Plugins\n\n\nvar grapesjs_preset_webpage_1 = __importDefault(require(\"grapesjs-preset-webpage\"));\n\nvar react_1 = __importStar(require(\"react\"));\n\nfunction GEditor(props) {\n  var _this = this;\n\n  var _a = props.id,\n      id = _a === void 0 ? 'grapesjs-react-editor' : _a,\n      storageManager = props.storageManager,\n      blockManager = props.blockManager,\n      components = props.components,\n      blocks = props.blocks,\n      webpage = props.webpage,\n      newsletter = props.newsletter;\n\n  var _b = react_1.useState(null),\n      editor = _b[0],\n      setEditor = _b[1];\n\n  react_1.useEffect(function () {\n    if (!editor) {\n      var plugins = [grapesjs_blocks_basic_1.default].concat(props.plugins);\n\n      if (webpage) {\n        plugins = plugins.concat([grapesjs_preset_webpage_1.default]);\n      }\n\n      if (newsletter) {\n        plugins = plugins.concat([grapesjs_preset_newsletter_1.default]);\n      }\n\n      var e_1 = grapesjs_1.default.init({\n        blockManager: blockManager,\n        container: \"#\" + id,\n        fromElement: true,\n        plugins: plugins,\n        storageManager: storageManager\n      });\n      var defaultType = e_1.DomComponents.getType('default');\n      var defaultModel_1 = defaultType.model;\n      var defaultView_1 = defaultType.view;\n      components.forEach(function (component) {\n        e_1.DomComponents.addType(component.type, {\n          model: defaultModel_1.extend({\n            defaults: Object.assign({}, defaultModel_1.prototype.defaults)\n          }, {\n            isComponent: component.isComponent.bind(_this)\n          }),\n          view: defaultView_1.extend({\n            events: __assign({}, component.events),\n            render: component.render.bind(_this)\n          })\n        });\n      });\n      blocks.forEach(function (block) {\n        e_1.BlockManager.add(block.id, block);\n      });\n      setEditor(e_1);\n    } else {\n      if (document) {\n        document.getElementById(id).append(editor.render());\n      }\n    }\n\n    return function cleanup() {\n      if (editor) {\n        editor.destroy();\n        grapesjs_1.default.editors = grapesjs_1.default.editors.filter(function (e) {\n          return e !== editor;\n        });\n      }\n    };\n  }, []);\n  return react_1.default.createElement(\"div\", {\n    id: id\n  });\n}\n\nGEditor.defaultProps = {\n  blockManager: {},\n  blocks: [],\n  components: [],\n  newsletter: false,\n  plugins: [],\n  storageManager: {},\n  styleManager: {},\n  webpage: false\n};\nexports.default = GEditor;\nwindow.GrapesJS = grapesjs_1.default;\nwindow.grapesjs = grapesjs_1.default;","map":{"version":3,"sources":["../../src/components/GEditor.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar grapesjs_1 = __importDefault(require(\"grapesjs\"));\nvar grapesjs_blocks_basic_1 = __importDefault(require(\"grapesjs-blocks-basic\"));\nvar grapesjs_preset_newsletter_1 = __importDefault(require(\"grapesjs-preset-newsletter\"));\n// Presets and Plugins\nvar grapesjs_preset_webpage_1 = __importDefault(require(\"grapesjs-preset-webpage\"));\nvar react_1 = __importStar(require(\"react\"));\nfunction GEditor(props) {\n    var _this = this;\n    var _a = props.id, id = _a === void 0 ? 'grapesjs-react-editor' : _a, storageManager = props.storageManager, blockManager = props.blockManager, components = props.components, blocks = props.blocks, webpage = props.webpage, newsletter = props.newsletter;\n    var _b = react_1.useState(null), editor = _b[0], setEditor = _b[1];\n    react_1.useEffect(function () {\n        if (!editor) {\n            var plugins = [\n                grapesjs_blocks_basic_1.default\n            ].concat(props.plugins);\n            if (webpage) {\n                plugins = plugins.concat([grapesjs_preset_webpage_1.default]);\n            }\n            if (newsletter) {\n                plugins = plugins.concat([grapesjs_preset_newsletter_1.default]);\n            }\n            var e_1 = grapesjs_1.default.init({\n                blockManager: blockManager,\n                container: \"#\" + id,\n                fromElement: true,\n                plugins: plugins,\n                storageManager: storageManager\n            });\n            var defaultType = e_1.DomComponents.getType('default');\n            var defaultModel_1 = defaultType.model;\n            var defaultView_1 = defaultType.view;\n            components.forEach(function (component) {\n                e_1.DomComponents.addType(component.type, {\n                    model: defaultModel_1.extend({\n                        defaults: Object.assign({}, defaultModel_1.prototype.defaults)\n                    }, {\n                        isComponent: component.isComponent.bind(_this)\n                    }),\n                    view: defaultView_1.extend({\n                        events: __assign({}, component.events),\n                        render: component.render.bind(_this)\n                    })\n                });\n            });\n            blocks.forEach(function (block) {\n                e_1.BlockManager.add(block.id, block);\n            });\n            setEditor(e_1);\n        }\n        else {\n            if (document) {\n                document.getElementById(id).append(editor.render());\n            }\n        }\n        return function cleanup() {\n            if (editor) {\n                editor.destroy();\n                grapesjs_1.default.editors = grapesjs_1.default.editors.filter(function (e) { return e !== editor; });\n            }\n        };\n    }, []);\n    return react_1.default.createElement(\"div\", { id: id });\n}\nGEditor.defaultProps = {\n    blockManager: {},\n    blocks: [],\n    components: [],\n    newsletter: false,\n    plugins: [],\n    storageManager: {},\n    styleManager: {},\n    webpage: false,\n};\nexports.default = GEditor;\nwindow.GrapesJS = grapesjs_1.default;\nwindow.grapesjs = grapesjs_1.default;\n//# sourceMappingURL=GEditor.js.map"]},"metadata":{},"sourceType":"script"}