{"ast":null,"code":"import _slicedToArray from\"/Users/monsama/firetable/www/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import _camelCase from\"lodash/camelCase\";import AddIcon from\"@material-ui/icons/Add\";import useRouter from\"../hooks/useRouter\";import{Tooltip,Fab,Dialog,DialogActions,DialogContent,DialogContentText,DialogTitle,TextField,Button}from\"@material-ui/core\";export default function CreateTableDialog(_ref){var _ref$classes=_ref.classes,classes=_ref$classes===void 0?{}:_ref$classes,createTable=_ref.createTable;var router=useRouter();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),tableName=_useState2[0],setTableName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),collectionName=_useState4[0],setCollectionName=_useState4[1];useEffect(function(){setCollectionName(_camelCase(tableName));},[tableName]);function handleClickOpen(){setOpen(true);}function handleClose(){setTableName(\"\");setCollectionName(\"\");setOpen(false);}function handleCreate(){createTable(tableName,collectionName);if(router.location.pathname===\"/\"){router.history.push(\"table/\".concat(collectionName));}else{router.history.push(collectionName);}handleClose();}return React.createElement(\"div\",null,React.createElement(Tooltip,{title:\"Create a table\"},React.createElement(Fab,{className:classes.fab,color:\"secondary\",\"aria-label\":\"Create table\",onClick:handleClickOpen},React.createElement(AddIcon,null))),React.createElement(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"form-dialog-title\"},React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"New table\"),React.createElement(DialogContent,null,React.createElement(DialogContentText,null,\"Create a new Table\"),React.createElement(TextField,{autoFocus:true,onChange:function onChange(e){setTableName(e.target.value);},margin:\"dense\",id:\"name\",label:\"Table Name\",type:\"email\",fullWidth:true}),React.createElement(TextField,{value:collectionName,onChange:function onChange(e){setCollectionName(e.target.value);},margin:\"dense\",id:\"collection\",label:\"Collection Name\",type:\"email\",fullWidth:true})),React.createElement(DialogActions,null,React.createElement(Button,{onClick:handleClose,color:\"primary\"},\"Cancel\"),React.createElement(Button,{onClick:handleCreate,color:\"primary\"},\"Create\"))));}","map":{"version":3,"sources":["/Users/monsama/firetable/www/src/components/CreateTableDialog.tsx"],"names":["React","useState","useEffect","_camelCase","AddIcon","useRouter","Tooltip","Fab","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","TextField","Button","CreateTableDialog","classes","createTable","router","open","setOpen","tableName","setTableName","collectionName","setCollectionName","handleClickOpen","handleClose","handleCreate","location","pathname","history","push","fab","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport _camelCase from \"lodash/camelCase\";\n\nimport AddIcon from \"@material-ui/icons/Add\";\nimport useRouter from \"../hooks/useRouter\";\n\nimport {\n  Tooltip,\n  Fab,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  TextField,\n  Button,\n} from \"@material-ui/core\";\n\nexport interface ICreateTableDialogProps {\n  /** Optional class overrides */\n  classes?: Partial<Record<\"fab\", string>>;\n  /** Function to handle table creation */\n  createTable: (tableName: string, collectionName: string) => void;\n}\n\nexport default function CreateTableDialog({\n  classes = {},\n  createTable,\n}: ICreateTableDialogProps) {\n  const router = useRouter();\n\n  const [open, setOpen] = React.useState(false);\n  const [tableName, setTableName] = useState(\"\");\n  const [collectionName, setCollectionName] = useState(\"\");\n  useEffect(() => {\n    setCollectionName(_camelCase(tableName));\n  }, [tableName]);\n  function handleClickOpen() {\n    setOpen(true);\n  }\n\n  function handleClose() {\n    setTableName(\"\");\n    setCollectionName(\"\");\n    setOpen(false);\n  }\n  function handleCreate() {\n    createTable(tableName, collectionName);\n    if (router.location.pathname === \"/\") {\n      router.history.push(`table/${collectionName}`);\n    } else {\n      router.history.push(collectionName);\n    }\n\n    handleClose();\n  }\n\n  return (\n    <div>\n      <Tooltip title=\"Create a table\">\n        <Fab\n          className={classes.fab}\n          color=\"secondary\"\n          aria-label=\"Create table\"\n          onClick={handleClickOpen}\n        >\n          <AddIcon />\n        </Fab>\n      </Tooltip>\n\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <DialogTitle id=\"form-dialog-title\">New table</DialogTitle>\n        <DialogContent>\n          <DialogContentText>Create a new Table</DialogContentText>\n          <TextField\n            autoFocus\n            onChange={e => {\n              setTableName(e.target.value);\n            }}\n            margin=\"dense\"\n            id=\"name\"\n            label=\"Table Name\"\n            type=\"email\"\n            fullWidth\n          />\n          <TextField\n            value={collectionName}\n            onChange={e => {\n              setCollectionName(e.target.value);\n            }}\n            margin=\"dense\"\n            id=\"collection\"\n            label=\"Collection Name\"\n            type=\"email\"\n            fullWidth\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleCreate} color=\"primary\">\n            Create\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}