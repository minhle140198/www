{"ast":null,"code":"import _slicedToArray from\"/Users/monsama/firetable/www/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Link}from\"react-router-dom\";import createStyles from\"@material-ui/core/styles/createStyles\";import makeStyles from\"@material-ui/core/styles/makeStyles\";import AppBar from\"@material-ui/core/AppBar\";import Toolbar from\"@material-ui/core/Toolbar\";import IconButton from\"@material-ui/core/IconButton\";import Button from\"@material-ui/core/Button\";import MenuIcon from\"@material-ui/icons/Menu\";import Skeleton from\"@material-ui/lab/Skeleton\";import CreateTableDialog from\"./CreateTableDialog\";import useSettings from\"../hooks/useSettings\";import useRouter from\"../hooks/useRouter\";import TablesContext from\"../contexts/tablesContext\";// import { auth } from \"../firebase\";\nvar useStyles=makeStyles(function(theme){return createStyles({text:{padding:theme.spacing(2,2,0)},paper:{paddingBottom:20,paddingTop:5},subheader:{backgroundColor:theme.palette.background.paper},appBar:{top:\"auto\",bottom:0},grow:{flexGrow:1},fab:{position:\"absolute\",zIndex:1,top:-30,right:20,margin:\"0 auto\"},button:{color:\"#fff\",marginLeft:8},skeleton:{marginLeft:8,borderRadius:5},routes:{flex:\"flex-shrink\",overflowX:\"auto\"}});});// TODO: Create an interface for props\nvar Navigation=function Navigation(props){var router=useRouter();var classes=useStyles();var _useSettings=useSettings(),_useSettings2=_slicedToArray(_useSettings,2),settings=_useSettings2[0],createTable=_useSettings2[1];return React.createElement(TablesContext.Provider,{value:{value:settings.tables}},React.createElement(React.Fragment,null,props.children,React.createElement(AppBar,{position:\"fixed\",color:\"primary\",className:classes.appBar},React.createElement(Toolbar,null,React.createElement(IconButton,{edge:\"start\",color:\"inherit\",\"aria-label\":\"go home\",component:Link,to:\"/\"},React.createElement(MenuIcon,null)),!settings.tables?React.createElement(React.Fragment,null,React.createElement(Skeleton,{variant:\"rect\",width:120,height:40,className:classes.skeleton}),React.createElement(Skeleton,{variant:\"rect\",width:120,height:40,className:classes.skeleton}),React.createElement(Skeleton,{variant:\"rect\",width:120,height:40,className:classes.skeleton}),React.createElement(Skeleton,{variant:\"rect\",width:120,height:40,className:classes.skeleton})):React.createElement(\"div\",{className:classes.routes},settings.tables.map(function(table){return React.createElement(Button,{key:table.collection,onClick:function onClick(){if(table.collection!==router.location.pathname.replace(\"/table/\",\"\")){//prevent redirecting to the same table\nrouter.history.push(table.collection);}},className:classes.button},table.name);})),React.createElement(CreateTableDialog,{classes:classes,createTable:createTable}),React.createElement(\"div\",{className:classes.grow})))));};export default Navigation;","map":{"version":3,"sources":["/Users/monsama/firetable/www/src/components/Navigation.tsx"],"names":["React","Link","createStyles","makeStyles","AppBar","Toolbar","IconButton","Button","MenuIcon","Skeleton","CreateTableDialog","useSettings","useRouter","TablesContext","useStyles","theme","text","padding","spacing","paper","paddingBottom","paddingTop","subheader","backgroundColor","palette","background","appBar","top","bottom","grow","flexGrow","fab","position","zIndex","right","margin","button","color","marginLeft","skeleton","borderRadius","routes","flex","overflowX","Navigation","props","router","classes","settings","createTable","value","tables","children","map","table","collection","location","pathname","replace","history","push","name"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport createStyles from \"@material-ui/core/styles/createStyles\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\n\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Button from \"@material-ui/core/Button\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport CreateTableDialog from \"./CreateTableDialog\";\n\nimport useSettings from \"../hooks/useSettings\";\nimport useRouter from \"../hooks/useRouter\";\nimport TablesContext from \"../contexts/tablesContext\";\n// import { auth } from \"../firebase\";\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    text: {\n      padding: theme.spacing(2, 2, 0),\n    },\n    paper: {\n      paddingBottom: 20,\n      paddingTop: 5,\n    },\n\n    subheader: {\n      backgroundColor: theme.palette.background.paper,\n    },\n    appBar: {\n      top: \"auto\",\n      bottom: 0,\n    },\n    grow: {\n      flexGrow: 1,\n    },\n    fab: {\n      position: \"absolute\",\n      zIndex: 1,\n      top: -30,\n      right: 20,\n      margin: \"0 auto\",\n    },\n    button: {\n      color: \"#fff\",\n      marginLeft: 8,\n    },\n    skeleton: {\n      marginLeft: 8,\n      borderRadius: 5,\n    },\n    routes: {\n      flex: \"flex-shrink\",\n      overflowX: \"auto\",\n    },\n  })\n);\n\n// TODO: Create an interface for props\nconst Navigation = (props: any) => {\n  const router = useRouter();\n  const classes = useStyles();\n  const [settings, createTable] = useSettings();\n  return (\n    <TablesContext.Provider value={{ value: settings.tables }}>\n      <>\n        {props.children}\n        <AppBar position=\"fixed\" color=\"primary\" className={classes.appBar}>\n          <Toolbar>\n            <IconButton\n              edge=\"start\"\n              color=\"inherit\"\n              aria-label=\"go home\"\n              component={Link}\n              to=\"/\"\n            >\n              <MenuIcon />\n            </IconButton>\n            {!settings.tables ? (\n              <>\n                <Skeleton\n                  variant=\"rect\"\n                  width={120}\n                  height={40}\n                  className={classes.skeleton}\n                />\n                <Skeleton\n                  variant=\"rect\"\n                  width={120}\n                  height={40}\n                  className={classes.skeleton}\n                />\n                <Skeleton\n                  variant=\"rect\"\n                  width={120}\n                  height={40}\n                  className={classes.skeleton}\n                />\n                <Skeleton\n                  variant=\"rect\"\n                  width={120}\n                  height={40}\n                  className={classes.skeleton}\n                />\n              </>\n            ) : (\n              <div className={classes.routes}>\n                {settings.tables.map(\n                  (table: { name: string; collection: string }) => (\n                    <Button\n                      key={table.collection}\n                      onClick={() => {\n                        if (\n                          table.collection !==\n                          router.location.pathname.replace(\"/table/\", \"\")\n                        ) {\n                          //prevent redirecting to the same table\n                          router.history.push(table.collection);\n                        }\n                      }}\n                      className={classes.button}\n                    >\n                      {table.name}\n                    </Button>\n                  )\n                )}\n              </div>\n            )}\n            {/* <Button\n              onClick={() => {\n                auth.signOut();\n              }}\n            >\n              Sign out\n            </Button> */}\n            <CreateTableDialog classes={classes} createTable={createTable} />\n            <div className={classes.grow} />\n          </Toolbar>\n        </AppBar>\n      </>\n    </TablesContext.Provider>\n  );\n};\nexport default Navigation;\n"]},"metadata":{},"sourceType":"module"}