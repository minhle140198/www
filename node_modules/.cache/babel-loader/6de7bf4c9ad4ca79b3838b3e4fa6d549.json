{"ast":null,"code":"import _objectSpread from\"/Users/monsama/firetable/www/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/monsama/firetable/www/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/monsama/firetable/www/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import clsx from\"clsx\";import _unionWith from\"lodash/unionWith\";import{createStyles,makeStyles,TextField,Chip,Grid,Button,Typography,IconButton,InputAdornment,Portal}from\"@material-ui/core\";import SearchIcon from\"@material-ui/icons/Search\";import SelectedIcon from\"@material-ui/icons/Check\";import RadioButtonUncheckedIcon from\"@material-ui/icons/RadioButtonUnchecked\";import RadioButtonCheckedIcon from\"@material-ui/icons/RadioButtonChecked\";import AddIcon from\"@material-ui/icons/Add\";var useStyles=makeStyles(function(theme){return createStyles({root:{minWidth:200},selectRoot:{paddingRight:theme.spacing(4)},paper:{overflow:\"hidden\",maxHeight:\"calc(100% - 48px)\"},menuChild:{padding:\"0 \".concat(theme.spacing(2),\"px\"),width:function width(_ref){var _width=_ref.width;return _width||480;},maxWidth:\"calc(100vw - \".concat(theme.spacing(4),\"px)\")},grid:{outline:0},noMargins:{margin:0},searchRow:{marginTop:theme.spacing(2)},chipListRow:{background:\"\".concat(theme.palette.background.paper,\" no-repeat\"),backgroundImage:\"linear-gradient(to bottom, rgba(255,255,255,1), rgba(255,255,255,0)), linear-gradient(to top, rgba(255,255,255,1), rgba(255,255,255,0))\",backgroundPosition:\"-12px 0, -24px 100%\",backgroundSize:\"calc(100% + 12px + 12px) 16px\",position:\"relative\",\"&::before, &::after\":{content:'\"\"',position:\"absolute\",top:0,left:0,right:0,zIndex:9,display:\"block\",height:16,background:\"linear-gradient(to bottom, #fff, rgba(255, 255, 255, 0))\"},\"&::after\":{top:\"auto\",bottom:0,background:\"linear-gradient(to top, #fff, rgba(255, 255, 255, 0))\"}},chipList:function chipList(_ref2){var searchable=_ref2.searchable,freeText=_ref2.freeText,multiple=_ref2.multiple;var maxHeightDeductions=0;if(searchable)maxHeightDeductions-=64;if(multiple)maxHeightDeductions-=48;if(freeText)maxHeightDeductions-=48;if(freeText&&!multiple)maxHeightDeductions-=theme.spacing(2);return{margin:\"0px -\".concat(theme.spacing(2),\"px\"),padding:\"12px \".concat(theme.spacing(2)-theme.spacing(0.5),\"px\"),overflowY:\"auto\",maxHeight:\"calc(100vh - 48px - \".concat(-maxHeightDeductions,\"px)\")};},chip:{margin:theme.spacing(0.5),// Allow multi-line chip\nmaxWidth:\"calc(100% - \".concat(theme.spacing(1),\"px)\"),minHeight:32,height:\"auto\"},selectedChip:{backgroundColor:theme.palette.divider},chipLabel:{maxWidth:\"100%\",padding:theme.spacing(0.75,1.5),whiteSpace:\"normal\"},footerRow:{marginBottom:theme.spacing(2)},addCustomButton:{marginLeft:-theme.spacing(1)},selectedRow:{\"$chipListRow + &\":{marginTop:-theme.spacing(1)},\"$footerRow + &\":{marginTop:-theme.spacing(2)},marginBottom:0,\"& > div\":{height:48}},selectAllButton:{marginRight:-theme.spacing(1)},selectedNum:{fontFeatureSettings:'\"tnum\"'},measureChip:{visibility:\"hidden\",position:\"absolute\",top:0,left:0}});});var MenuProps={PaperProps:{style:{display:\"flex\"}}};export default function MultipleSelect(_ref3){var optionsProp=_ref3.options,label=_ref3.label,field=_ref3.field,onChange=_ref3.onChange,value=_ref3.value,_ref3$searchable=_ref3.searchable,searchable=_ref3$searchable===void 0?false:_ref3$searchable,itemRenderer=_ref3.itemRenderer,_ref3$freeText=_ref3.freeText,freeText=_ref3$freeText===void 0?false:_ref3$freeText,_ref3$multiple=_ref3.multiple,multiple=_ref3$multiple===void 0?true:_ref3$multiple,_ref3$selectAll=_ref3.selectAll,selectAll=_ref3$selectAll===void 0?true:_ref3$selectAll,className=_ref3.className,_ref3$TextFieldProps=_ref3.TextFieldProps,TextFieldProps=_ref3$TextFieldProps===void 0?{}:_ref3$TextFieldProps;var _useState=useState(200),_useState2=_slicedToArray(_useState,2),dropdownWidth=_useState2[0],setDropdownWidth=_useState2[1];var classes=useStyles({searchable:searchable,freeText:freeText,multiple:multiple,width:dropdownWidth});var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),filterState=_useState4[0],setFilterState=_useState4[1];var select=function select(option){if(multiple)onChange(field,[].concat(_toConsumableArray(value),[option.value]));else onChange(field,[option.value]);};var deselect=function deselect(option){if(multiple)onChange(field,value.filter(function(v){return v!==option.value;}));else onChange(field,[]);};// Transform `option` prop if it’s just strings\nvar options=typeof optionsProp[0]===\"string\"?optionsProp.map(function(item){return{label:item,value:item};}):optionsProp;// If `freeText` enabled, show the user’s custom fields\nif(freeText){// `value` prop is an array of all values. It removes labels\nvar formattedValues=value.map(function(x){return{label:x,value:x};});options=_unionWith(options,formattedValues,function(a,b){return a.value===b.value;});}var handleSelectAll=function handleSelectAll(){return onChange(field,options.map(function(o){return o.value;}));};var clearSelection=function clearSelection(){return onChange(field,[]);};// `freeText`: Handle custom field\nvar _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),customField=_useState6[0],setCustomField=_useState6[1];var handleAddCustom=function handleAddCustom(){select({value:customField,label:customField});setCustomField(\"\");};// Get longest item label\nvar longestLabel=options.reduce(function(acc,curr){return curr.label.length>acc.length?curr.label:acc;},\"\");return React.createElement(React.Fragment,null,React.createElement(TextField,Object.assign({label:label,variant:\"filled\",select:true,value:value,className:clsx(classes.root,className)},TextFieldProps,{SelectProps:_objectSpread({renderValue:function renderValue(value){var selected=value;if(selected.length===1&&typeof selected[0]===\"string\")return selected;return\"\".concat(selected.length,\" of \").concat(options.length,\" selected\");},classes:{root:classes.selectRoot}},TextFieldProps.SelectProps,{// Must have this set to prevent MUI transforming `value`\n// prop for this component to a comma-separated string\nmultiple:true,MenuProps:{classes:{paper:classes.paper,list:classes.menuChild},MenuListProps:{disablePadding:true},getContentAnchorEl:null,anchorOrigin:{vertical:\"bottom\",horizontal:\"center\"},transformOrigin:{vertical:\"top\",horizontal:\"center\"}}}),ref:function ref(el){if(!el)return;var width=el.getBoundingClientRect().width;if(dropdownWidth<width)setDropdownWidth(width);}}),React.createElement(Grid,{container:true,direction:\"column\",className:classes.grid},searchable&&React.createElement(Grid,{item:true,className:classes.searchRow},React.createElement(TextField,{value:filterState,onChange:function onChange(e){return setFilterState(e.target.value);},fullWidth:true,variant:\"filled\",margin:\"dense\",label:\"Search items\",className:classes.noMargins,InputProps:{//disableUnderline: true,\nendAdornment:React.createElement(InputAdornment,{position:\"end\"},React.createElement(SearchIcon,null))},onClick:function onClick(e){return e.stopPropagation();},onKeyDown:function onKeyDown(e){return e.stopPropagation();}})),React.createElement(Grid,{item:true,xs:true,className:classes.chipListRow},React.createElement(\"ul\",{className:classes.chipList},options.filter(function(option){return filterState===\"\"||option.label.toUpperCase().includes(filterState.toUpperCase());}).map(function(option){var isSelected=value.includes(option.value);var icon=React.createElement(React.Fragment,null);if(multiple){if(isSelected)icon=React.createElement(SelectedIcon,null);}else{if(isSelected)icon=React.createElement(RadioButtonCheckedIcon,null);else icon=React.createElement(RadioButtonUncheckedIcon,null);}if(itemRenderer)return itemRenderer(option,select,deselect,isSelected);else return React.createElement(Chip,{key:\"select-chip-\".concat(field,\"-\").concat(option.value),className:clsx(classes.chip,isSelected&&classes.selectedChip),classes:{label:classes.chipLabel},onClick:function onClick(e){e.stopPropagation();if(isSelected)deselect(option);else select(option);},icon:icon,label:option.label,variant:\"outlined\",component:\"li\",size:\"medium\"});}))),freeText&&React.createElement(Grid,{item:true,className:classes.footerRow},React.createElement(Grid,{container:true,alignItems:\"center\",spacing:1},React.createElement(Grid,{item:true},React.createElement(IconButton,{onClick:handleAddCustom,className:classes.addCustomButton},React.createElement(AddIcon,null))),React.createElement(Grid,{item:true,xs:true},React.createElement(TextField,{fullWidth:true,variant:\"filled\",label:\"Add new item\",margin:\"dense\",className:classes.noMargins,value:customField,onChange:function onChange(e){return setCustomField(e.target.value);},onKeyPress:function onKeyPress(e){if(e.key===\"Enter\")handleAddCustom();},onKeyDown:function onKeyDown(e){return e.stopPropagation();}})))),multiple&&React.createElement(Grid,{item:true,className:clsx(classes.footerRow,classes.selectedRow)},React.createElement(Grid,{container:true,direction:\"row\",justify:\"space-between\",alignItems:\"center\"},React.createElement(Typography,{variant:\"button\",color:\"textSecondary\",className:classes.selectedNum},value.length,\" of \",options.length),React.createElement(Button,{disabled:selectAll===false&&value.length===0,onClick:value.length===options.length||!selectAll?clearSelection:handleSelectAll,color:\"primary\",className:classes.selectAllButton},value.length===options.length||!selectAll?\"Clear Selection\":\"Select All\"))))),React.createElement(Portal,null,React.createElement(Chip,{className:clsx(classes.chip,classes.measureChip),classes:{label:classes.chipLabel},icon:React.createElement(SelectedIcon,null),label:longestLabel,variant:\"outlined\",role:\"presentation\",ref:function ref(el){if(!el)return;var width=el.getBoundingClientRect().width;if(dropdownWidth<width)setDropdownWidth(width+32);}})));}","map":{"version":3,"sources":["/Users/monsama/firetable/www/src/components/MultiSelect.tsx"],"names":["React","useState","clsx","_unionWith","createStyles","makeStyles","TextField","Chip","Grid","Button","Typography","IconButton","InputAdornment","Portal","SearchIcon","SelectedIcon","RadioButtonUncheckedIcon","RadioButtonCheckedIcon","AddIcon","useStyles","theme","root","minWidth","selectRoot","paddingRight","spacing","paper","overflow","maxHeight","menuChild","padding","width","maxWidth","grid","outline","noMargins","margin","searchRow","marginTop","chipListRow","background","palette","backgroundImage","backgroundPosition","backgroundSize","position","content","top","left","right","zIndex","display","height","bottom","chipList","searchable","freeText","multiple","maxHeightDeductions","overflowY","chip","minHeight","selectedChip","backgroundColor","divider","chipLabel","whiteSpace","footerRow","marginBottom","addCustomButton","marginLeft","selectedRow","selectAllButton","marginRight","selectedNum","fontFeatureSettings","measureChip","visibility","MenuProps","PaperProps","style","MultipleSelect","optionsProp","options","label","field","onChange","value","itemRenderer","selectAll","className","TextFieldProps","dropdownWidth","setDropdownWidth","classes","filterState","setFilterState","select","option","deselect","filter","v","map","item","formattedValues","x","a","b","handleSelectAll","o","clearSelection","customField","setCustomField","handleAddCustom","longestLabel","reduce","acc","curr","length","renderValue","selected","SelectProps","list","MenuListProps","disablePadding","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","el","getBoundingClientRect","e","target","endAdornment","stopPropagation","toUpperCase","includes","isSelected","icon","key"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport clsx from \"clsx\";\nimport _unionWith from \"lodash/unionWith\";\n\nimport {\n  createStyles,\n  makeStyles,\n  TextField,\n  Chip,\n  Grid,\n  Button,\n  Typography,\n  IconButton,\n  InputAdornment,\n  Portal,\n} from \"@material-ui/core\";\nimport { FilledTextFieldProps } from \"@material-ui/core/TextField\";\n\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport SelectedIcon from \"@material-ui/icons/Check\";\nimport RadioButtonUncheckedIcon from \"@material-ui/icons/RadioButtonUnchecked\";\nimport RadioButtonCheckedIcon from \"@material-ui/icons/RadioButtonChecked\";\nimport AddIcon from \"@material-ui/icons/Add\";\n\ninterface StylesProps {\n  searchable: boolean;\n  freeText: boolean;\n  multiple: boolean;\n  width?: number;\n}\n\nconst useStyles = makeStyles(theme =>\n  createStyles({\n    root: { minWidth: 200 },\n    selectRoot: { paddingRight: theme.spacing(4) },\n\n    paper: { overflow: \"hidden\", maxHeight: \"calc(100% - 48px)\" },\n    menuChild: {\n      padding: `0 ${theme.spacing(2)}px`,\n      width: ({ width }: StylesProps) => width || 480,\n      maxWidth: `calc(100vw - ${theme.spacing(4)}px)`,\n    },\n    grid: { outline: 0 },\n\n    noMargins: { margin: 0 },\n\n    searchRow: { marginTop: theme.spacing(2) },\n\n    chipListRow: {\n      background: `${theme.palette.background.paper} no-repeat`,\n      backgroundImage:\n        \"linear-gradient(to bottom, rgba(255,255,255,1), rgba(255,255,255,0)), linear-gradient(to top, rgba(255,255,255,1), rgba(255,255,255,0))\",\n      backgroundPosition: `-12px 0, -24px 100%`,\n      backgroundSize: `calc(100% + 12px + 12px) 16px`,\n\n      position: \"relative\",\n\n      \"&::before, &::after\": {\n        content: '\"\"',\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n        zIndex: 9,\n\n        display: \"block\",\n        height: 16,\n\n        background: `linear-gradient(to bottom, #fff, rgba(255, 255, 255, 0))`,\n      },\n\n      \"&::after\": {\n        top: \"auto\",\n        bottom: 0,\n        background: `linear-gradient(to top, #fff, rgba(255, 255, 255, 0))`,\n      },\n    },\n    chipList: ({ searchable, freeText, multiple }: StylesProps) => {\n      let maxHeightDeductions = 0;\n      if (searchable) maxHeightDeductions -= 64;\n      if (multiple) maxHeightDeductions -= 48;\n      if (freeText) maxHeightDeductions -= 48;\n      if (freeText && !multiple) maxHeightDeductions -= theme.spacing(2);\n\n      return {\n        margin: `0px -${theme.spacing(2)}px`,\n        padding: `12px ${theme.spacing(2) - theme.spacing(0.5)}px`,\n        overflowY: \"auto\" as \"auto\",\n        maxHeight: `calc(100vh - 48px - ${-maxHeightDeductions}px)`,\n      };\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n      // Allow multi-line chip\n      maxWidth: `calc(100% - ${theme.spacing(1)}px)`,\n      minHeight: 32,\n      height: \"auto\",\n    },\n    selectedChip: { backgroundColor: theme.palette.divider },\n    chipLabel: {\n      maxWidth: \"100%\",\n      padding: theme.spacing(0.75, 1.5),\n      whiteSpace: \"normal\",\n    },\n\n    footerRow: { marginBottom: theme.spacing(2) },\n    addCustomButton: { marginLeft: -theme.spacing(1) },\n    selectedRow: {\n      \"$chipListRow + &\": { marginTop: -theme.spacing(1) },\n      \"$footerRow + &\": { marginTop: -theme.spacing(2) },\n\n      marginBottom: 0,\n      \"& > div\": { height: 48 },\n    },\n    selectAllButton: { marginRight: -theme.spacing(1) },\n    selectedNum: { fontFeatureSettings: '\"tnum\"' },\n\n    measureChip: {\n      visibility: \"hidden\",\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n    },\n  })\n);\n\nconst MenuProps = {\n  PaperProps: {\n    style: {\n      display: \"flex\",\n    },\n  },\n};\n\ntype OptionType = { label: string; value: string; data?: any };\n\nexport interface IMultipleSelectProps {\n  /** The field name. TODO: Change prop name to `name` for consistency with Formik */\n  field: string;\n  label: string;\n  value: string[];\n  /** The list of options to display. Passing `string[]` will auto-transform */\n  options: OptionType[] | string[];\n  itemRenderer?: (\n    option: OptionType,\n    select: Function,\n    deselect: Function,\n    isSelected: Boolean\n  ) => React.ReactNode;\n  searchable?: boolean;\n  onChange: (name: string, value: string[]) => void;\n\n  /** Optionally allow the user to select all options */\n  selectAll?: boolean;\n  /** Optionally allow the user to add a custom option */\n  freeText?: boolean;\n  /** Optionally set this prop to `false` to only allow one option */\n  multiple?: boolean;\n  /** Optional style overrides for root MUI `TextField` component */\n  className?: string;\n  /** Override any props of the root MUI `TextField` component */\n  TextFieldProps?: Partial<FilledTextFieldProps>;\n}\n\nexport default function MultipleSelect({\n  options: optionsProp,\n  label,\n  field,\n  onChange,\n  value,\n  searchable = false,\n  itemRenderer,\n  freeText = false,\n  multiple = true,\n  selectAll = true,\n  className,\n  TextFieldProps = {},\n}: IMultipleSelectProps) {\n  const [dropdownWidth, setDropdownWidth] = useState(200);\n  const classes = useStyles({\n    searchable,\n    freeText,\n    multiple,\n    width: dropdownWidth,\n  });\n\n  const [filterState, setFilterState] = useState(\"\");\n  const select = option => {\n    if (multiple) onChange(field, [...value, option.value]);\n    else onChange(field, [option.value]);\n  };\n  const deselect = (option: { label: string; value: string }) => {\n    if (multiple)\n      onChange(\n        field,\n        value.filter(v => v !== option.value)\n      );\n    else onChange(field, []);\n  };\n\n  // Transform `option` prop if it’s just strings\n  let options =\n    typeof optionsProp[0] === \"string\"\n      ? (optionsProp as string[]).map(\n          item => ({ label: item, value: item } as OptionType)\n        )\n      : (optionsProp as OptionType[]);\n  // If `freeText` enabled, show the user’s custom fields\n  if (freeText) {\n    // `value` prop is an array of all values. It removes labels\n    const formattedValues = value.map(x => ({ label: x, value: x }));\n    options = _unionWith(\n      options,\n      formattedValues,\n      (a, b) => a.value === b.value\n    );\n  }\n\n  const handleSelectAll = () =>\n    onChange(\n      field,\n      options.map(o => o.value)\n    );\n  const clearSelection = () => onChange(field, []);\n\n  // `freeText`: Handle custom field\n  const [customField, setCustomField] = useState(\"\");\n  const handleAddCustom = () => {\n    select({ value: customField, label: customField });\n    setCustomField(\"\");\n  };\n\n  // Get longest item label\n  const longestLabel = options.reduce(\n    (acc, curr) => (curr.label.length > acc.length ? curr.label : acc),\n    \"\"\n  );\n\n  return (\n    <>\n      <TextField\n        label={label}\n        variant=\"filled\"\n        select\n        value={value}\n        className={clsx(classes.root, className)}\n        {...TextFieldProps}\n        SelectProps={{\n          renderValue: value => {\n            const selected = value as string[];\n            if (selected.length === 1 && typeof selected[0] === \"string\")\n              return selected;\n            return `${selected.length} of ${options.length} selected`;\n          },\n          classes: { root: classes.selectRoot },\n          ...TextFieldProps.SelectProps,\n          // Must have this set to prevent MUI transforming `value`\n          // prop for this component to a comma-separated string\n          multiple: true,\n          MenuProps: {\n            classes: { paper: classes.paper, list: classes.menuChild },\n            MenuListProps: { disablePadding: true },\n            getContentAnchorEl: null,\n            anchorOrigin: { vertical: \"bottom\", horizontal: \"center\" },\n            transformOrigin: { vertical: \"top\", horizontal: \"center\" },\n          },\n        }}\n        ref={el => {\n          if (!el) return;\n          const width = el.getBoundingClientRect().width;\n          if (dropdownWidth < width) setDropdownWidth(width);\n        }}\n      >\n        <Grid container direction=\"column\" className={classes.grid}>\n          {searchable && (\n            <Grid item className={classes.searchRow}>\n              <TextField\n                value={filterState}\n                onChange={e => setFilterState(e.target.value)}\n                fullWidth\n                variant=\"filled\"\n                margin=\"dense\"\n                label=\"Search items\"\n                className={classes.noMargins}\n                InputProps={{\n                  //disableUnderline: true,\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      <SearchIcon />\n                    </InputAdornment>\n                  ),\n                }}\n                onClick={e => e.stopPropagation()}\n                onKeyDown={e => e.stopPropagation()}\n              />\n            </Grid>\n          )}\n\n          <Grid item xs className={classes.chipListRow}>\n            <ul className={classes.chipList}>\n              {options\n                .filter(option => {\n                  return (\n                    filterState === \"\" ||\n                    option.label\n                      .toUpperCase()\n                      .includes(filterState.toUpperCase())\n                  );\n                })\n                .map(option => {\n                  const isSelected = value.includes(option.value);\n\n                  let icon = <></>;\n                  if (multiple) {\n                    if (isSelected) icon = <SelectedIcon />;\n                  } else {\n                    if (isSelected) icon = <RadioButtonCheckedIcon />;\n                    else icon = <RadioButtonUncheckedIcon />;\n                  }\n\n                  if (itemRenderer)\n                    return itemRenderer(option, select, deselect, isSelected);\n                  else\n                    return (\n                      <Chip\n                        key={`select-chip-${field}-${option.value}`}\n                        className={clsx(\n                          classes.chip,\n                          isSelected && classes.selectedChip\n                        )}\n                        classes={{ label: classes.chipLabel }}\n                        onClick={e => {\n                          e.stopPropagation();\n                          if (isSelected) deselect(option);\n                          else select(option);\n                        }}\n                        icon={icon}\n                        label={option.label}\n                        variant=\"outlined\"\n                        component=\"li\"\n                        size=\"medium\"\n                      />\n                    );\n                })}\n            </ul>\n          </Grid>\n\n          {freeText && (\n            <Grid item className={classes.footerRow}>\n              <Grid container alignItems=\"center\" spacing={1}>\n                <Grid item>\n                  <IconButton\n                    onClick={handleAddCustom}\n                    className={classes.addCustomButton}\n                  >\n                    <AddIcon />\n                  </IconButton>\n                </Grid>\n                <Grid item xs>\n                  <TextField\n                    fullWidth\n                    variant=\"filled\"\n                    label=\"Add new item\"\n                    margin=\"dense\"\n                    className={classes.noMargins}\n                    value={customField}\n                    onChange={e => setCustomField(e.target.value)}\n                    onKeyPress={e => {\n                      if (e.key === \"Enter\") handleAddCustom();\n                    }}\n                    onKeyDown={e => e.stopPropagation()}\n                  />\n                </Grid>\n              </Grid>\n            </Grid>\n          )}\n\n          {multiple && (\n            <Grid item className={clsx(classes.footerRow, classes.selectedRow)}>\n              <Grid\n                container\n                direction=\"row\"\n                justify=\"space-between\"\n                alignItems=\"center\"\n              >\n                <Typography\n                  variant=\"button\"\n                  color=\"textSecondary\"\n                  className={classes.selectedNum}\n                >\n                  {value.length} of {options.length}\n                </Typography>\n                <Button\n                  disabled={selectAll === false && value.length === 0}\n                  onClick={\n                    value.length === options.length || !selectAll\n                      ? clearSelection\n                      : handleSelectAll\n                  }\n                  color=\"primary\"\n                  className={classes.selectAllButton}\n                >\n                  {value.length === options.length || !selectAll\n                    ? \"Clear Selection\"\n                    : \"Select All\"}\n                </Button>\n              </Grid>\n            </Grid>\n          )}\n        </Grid>\n      </TextField>\n\n      <Portal>\n        <Chip\n          className={clsx(classes.chip, classes.measureChip)}\n          classes={{ label: classes.chipLabel }}\n          icon={<SelectedIcon />}\n          label={longestLabel}\n          variant=\"outlined\"\n          role=\"presentation\"\n          ref={el => {\n            if (!el) return;\n            const width = el.getBoundingClientRect().width;\n            if (dropdownWidth < width) setDropdownWidth(width + 32);\n          }}\n        />\n      </Portal>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}