{"ast":null,"code":"import{functions}from\"./index\";export var CLOUD_FUNCTIONS;(function(CLOUD_FUNCTIONS){CLOUD_FUNCTIONS[\"updateAlgoliaRecord\"]=\"updateAlgoliaRecord\";CLOUD_FUNCTIONS[\"deleteAlgoliaRecord\"]=\"deleteAlgoliaRecord\";CLOUD_FUNCTIONS[\"exportTable\"]=\"exportTable\";})(CLOUD_FUNCTIONS||(CLOUD_FUNCTIONS={}));export var cloudFunction=function cloudFunction(name,input,success,fail){var callable=functions.httpsCallable(name);callable(input).then(function(result){if(success){success(result);}}).catch(function(error){if(fail){fail(error);}});};// TODO: data formating dates,\nexport var algoliaUpdateDoc=function algoliaUpdateDoc(data){return functions.httpsCallable(CLOUD_FUNCTIONS.updateAlgoliaRecord)(data);};export var algoliaDeleteDoc=functions.httpsCallable(CLOUD_FUNCTIONS.deleteAlgoliaRecord);export var exportTable=function exportTable(data){return functions.httpsCallable(CLOUD_FUNCTIONS.exportTable)(data);};","map":{"version":3,"sources":["/Users/monsama/firetable/www/src/firebase/callables.ts"],"names":["functions","CLOUD_FUNCTIONS","cloudFunction","name","input","success","fail","callable","httpsCallable","then","result","catch","error","algoliaUpdateDoc","data","updateAlgoliaRecord","algoliaDeleteDoc","deleteAlgoliaRecord","exportTable"],"mappings":"AAAA,OAASA,SAAT,KAA0B,SAA1B,CAGA,UAAYC,CAAAA,eAAZ,C,UAAYA,e,EAAAA,e,8CAAAA,e,8CAAAA,e,iCAAAA,e,GAAAA,e,MAMZ,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAC3BC,IAD2B,CAE3BC,KAF2B,CAG3BC,OAH2B,CAI3BC,IAJ2B,CAKxB,CACH,GAAMC,CAAAA,QAAQ,CAAGP,SAAS,CAACQ,aAAV,CAAwBL,IAAxB,CAAjB,CACAI,QAAQ,CAACH,KAAD,CAAR,CACGK,IADH,CACQ,SAAAC,MAAM,CAAI,CACd,GAAIL,OAAJ,CAAa,CACXA,OAAO,CAACK,MAAD,CAAP,CACD,CACF,CALH,EAMGC,KANH,CAMS,SAAAC,KAAK,CAAI,CACd,GAAIN,IAAJ,CAAU,CACRA,IAAI,CAACM,KAAD,CAAJ,CACD,CACF,CAVH,EAWD,CAlBM,CAoBP;AACA,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,IAAD,QAI1Bd,CAAAA,SAAS,CAACQ,aAAV,CAAwBP,eAAe,CAACc,mBAAxC,EAA6DD,IAA7D,CAJ0B,EAAzB,CAMP,MAAO,IAAME,CAAAA,gBAAgB,CAAGhB,SAAS,CAACQ,aAAV,CAC9BP,eAAe,CAACgB,mBADc,CAAzB,CAIP,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACJ,IAAD,QAKrBd,CAAAA,SAAS,CAACQ,aAAV,CAAwBP,eAAe,CAACiB,WAAxC,EAAqDJ,IAArD,CALqB,EAApB","sourcesContent":["import { functions } from \"./index\";\nimport { FireTableFilter } from \"../hooks/useFiretable\";\n\nexport enum CLOUD_FUNCTIONS {\n  updateAlgoliaRecord = \"updateAlgoliaRecord\",\n  deleteAlgoliaRecord = \"deleteAlgoliaRecord\",\n  exportTable = \"exportTable\",\n}\n\nexport const cloudFunction = (\n  name: string,\n  input: any,\n  success: Function,\n  fail: Function\n) => {\n  const callable = functions.httpsCallable(name);\n  callable(input)\n    .then(result => {\n      if (success) {\n        success(result);\n      }\n    })\n    .catch(error => {\n      if (fail) {\n        fail(error);\n      }\n    });\n};\n\n// TODO: data formating dates,\nexport const algoliaUpdateDoc = (data: {\n  collection: string;\n  id: string;\n  doc: any;\n}) => functions.httpsCallable(CLOUD_FUNCTIONS.updateAlgoliaRecord)(data);\n\nexport const algoliaDeleteDoc = functions.httpsCallable(\n  CLOUD_FUNCTIONS.deleteAlgoliaRecord\n);\n\nexport const exportTable = (data: {\n  collectionPath: string;\n  filters: FireTableFilter[];\n  columns: any[];\n  allFields: Boolean;\n}) => functions.httpsCallable(CLOUD_FUNCTIONS.exportTable)(data);\n"]},"metadata":{},"sourceType":"module"}