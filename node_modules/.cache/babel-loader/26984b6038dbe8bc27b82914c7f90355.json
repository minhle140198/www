{"ast":null,"code":"import _toConsumableArray from\"/Users/monsama/firetable/www/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/monsama/firetable/www/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React from\"react\";import AddIcon from\"@material-ui/icons/AddCircle\";import IconButton from\"@material-ui/core/IconButton\";import{createStyles,makeStyles}from\"@material-ui/core/styles\";import Chip from\"@material-ui/core/Chip\";var snapshotReducer=function snapshotReducer(accumulator,currentValue){};var getPrimaryValue=function getPrimaryValue(config){};var useStyles=makeStyles(function(theme){return createStyles({root:{position:\"relative\",display:\"flex\",flexWrap:\"wrap\",alignItems:\"center\"},typography:{padding:theme.spacing(2)},textArea:{fontSize:14,minWidth:230},paper:{minWidth:200},chip:{margin:theme.spacing(1)}});});var DocSelect=function DocSelect(props){var value=props.value,row=props.row,_onSubmit=props.onSubmit,collectionPath=props.collectionPath,config=props.config,setSearch=props.setSearch;var classes=useStyles();var handleClick=function handleClick(event){setSearch(function(oldValues){return _objectSpread({},oldValues,{collection:collectionPath,config:config,onSubmit:function onSubmit(newItem){if(value)_onSubmit([].concat(_toConsumableArray(value),[newItem]));else _onSubmit([newItem]);}});});};var handleDelete=function handleDelete(index){var newValue=_toConsumableArray(value);newValue.splice(index,1);_onSubmit(newValue);};return React.createElement(\"div\",{className:classes.root},!config.isLocked&&React.createElement(IconButton,{onClick:handleClick},React.createElement(AddIcon,null)),value&&value.map(function(doc,index){return React.createElement(Chip,{key:doc.docPath,label:config.primaryKeys.map(function(key){return\"\".concat(doc.snapshot[key],\" \");})//onClick={handleClick}\n,onDelete:config.isLocked?undefined:function(){handleDelete(index);},className:classes.chip});}));};export default DocSelect;","map":{"version":3,"sources":["/Users/monsama/firetable/www/src/components/Fields/DocSelect.tsx"],"names":["React","AddIcon","IconButton","createStyles","makeStyles","Chip","snapshotReducer","accumulator","currentValue","getPrimaryValue","config","useStyles","theme","root","position","display","flexWrap","alignItems","typography","padding","spacing","textArea","fontSize","minWidth","paper","chip","margin","DocSelect","props","value","row","onSubmit","collectionPath","setSearch","classes","handleClick","event","oldValues","collection","newItem","handleDelete","index","newValue","splice","isLocked","map","doc","docPath","primaryKeys","key","snapshot","undefined"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport AddIcon from \"@material-ui/icons/AddCircle\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport Chip from \"@material-ui/core/Chip\";\n\nconst snapshotReducer = (accumulator: string, currentValue: any) => {};\nconst getPrimaryValue = (config: { primaryKeys: string[] }) => {};\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      position: \"relative\",\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      alignItems: \"center\",\n    },\n    typography: {\n      padding: theme.spacing(2),\n    },\n    textArea: {\n      fontSize: 14,\n      minWidth: 230,\n    },\n    paper: { minWidth: 200 },\n    chip: {\n      margin: theme.spacing(1),\n    },\n  })\n);\ninterface Props {\n  value: any;\n  row: { ref: firebase.firestore.DocumentReference; id: string };\n  onSubmit: Function;\n  collectionPath: string;\n  isScrolling: boolean;\n  setSearch: any;\n  config: any;\n}\n\nconst DocSelect = (props: Props) => {\n  const { value, row, onSubmit, collectionPath, config, setSearch } = props;\n  const classes = useStyles();\n  const handleClick = (\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>\n  ) => {\n    setSearch((oldValues: any) => ({\n      ...oldValues,\n      collection: collectionPath,\n      config: config,\n      onSubmit: (newItem: any) => {\n        if (value) onSubmit([...value, newItem]);\n        else onSubmit([newItem]);\n      },\n    }));\n  };\n\n  const handleDelete = (index: number) => {\n    let newValue = [...value];\n    newValue.splice(index, 1);\n    onSubmit(newValue);\n  };\n\n  return (\n    <div className={classes.root}>\n      {!config.isLocked && (\n        <IconButton onClick={handleClick}>\n          <AddIcon />\n        </IconButton>\n      )}\n      {value &&\n        value.map((doc: any, index: number) => (\n          <Chip\n            key={doc.docPath}\n            label={config.primaryKeys.map(\n              (key: string) => `${doc.snapshot[key]} `\n            )}\n            //onClick={handleClick}\n            onDelete={\n              config.isLocked\n                ? undefined\n                : () => {\n                    handleDelete(index);\n                  }\n            }\n            className={classes.chip}\n          />\n        ))}\n      {/* <Typography>\n        {value[0]\n          ? config.primaryKeys.map((key: any) => `${value[0].snapshot[key]} `)\n          : \"\"}\n      </Typography> */}\n    </div>\n  );\n};\n\nexport default DocSelect;\n"]},"metadata":{},"sourceType":"module"}