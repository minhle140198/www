{"ast":null,"code":"import React,{useContext}from\"react\";import{createStyles,makeStyles}from\"@material-ui/core/styles\";import EditorContext from\"contexts/editorContext\";import Modal from\"@material-ui/core/Modal\";import Fade from\"@material-ui/core/Fade\";import Paper from\"@material-ui/core/Paper\";import Button from\"@material-ui/core/Button\";import Grid from\"@material-ui/core/Grid\";var useStyles=makeStyles(function(theme){return createStyles({test:{position:\"absolute\",top:10,left:10},modal:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\",maxWidth:600,width:\"100%\"},paper:{padding:theme.spacing(2)},root:{margin:\"\".concat(theme.spacing(1),\"px 0\"),\"&:focus-within $sectionTitle\":{color:theme.palette.type===\"dark\"?theme.palette.primary.dark:theme.palette.primary.main}},typography:{padding:theme.spacing(2)},textArea:{fontSize:16,minWidth:230,width:\"100%\"},quillEditor:{minHeight:100,// match styling\n\"& .ql-toolbar\":{borderRadius:\"\".concat(theme.shape.borderRadius,\"px \").concat(theme.shape.borderRadius,\"px 0 0\"),transition:theme.transitions.create(\"border-color\",{duration:theme.transitions.duration.shortest})},\"& .ql-container\":{borderRadius:\"0 0 \".concat(theme.shape.borderRadius,\"px \").concat(theme.shape.borderRadius,\"px\"),transition:theme.transitions.create(\"border-color\",{duration:theme.transitions.duration.shortest})},\"& .ql-editor\":{minHeight:100,fontFamily:theme.typography.fontFamily,fontSize:\".875rem\",color:theme.palette.text.primary,\"&.ql-blank::before\":{fontStyle:\"normal\",color:theme.palette.text.disabled}},// highlight border on focus\n\"&:focus-within .ql-toolbar.ql-snow, &:focus-within .ql-container.ql-snow\":{borderColor:theme.palette.primary.main},// buttons stroke/fill colour matching\n\"& .ql-snow.ql-toolbar button, & .ql-snow .ql-picker-label\":{borderRadius:theme.shape.borderRadius/2,transition:theme.transitions.create(\"background-color\",{duration:theme.transitions.duration.shortest})},\"& .ql-snow .ql-stroke\":{stroke:theme.palette.text.primary,transition:theme.transitions.create(\"stroke\",{duration:theme.transitions.duration.shortest})},\"& .ql-snow .ql-fill\":{fill:theme.palette.text.primary,transition:theme.transitions.create(\"fill\",{duration:theme.transitions.duration.shortest})},// colour buttons on hover\n\"& button:hover .ql-stroke\":{stroke:\"\".concat(theme.palette.primary.main,\" !important\")},\"& button:hover .ql-fill\":{fill:\"\".concat(theme.palette.primary.main,\" !important\")},// highlight buttons when selected/active\n\"& .ql-snow.ql-toolbar .ql-active\":{backgroundColor:theme.palette.primary.light,\"& .ql-stroke\":{stroke:\"\".concat(theme.palette.primary.main,\" !important\")},\"& .ql-fill\":{fill:\"\".concat(theme.palette.primary.main,\" !important\")}},// dropdown styling\n\"& .ql-snow.ql-toolbar button:hover, & .ql-snow .ql-toolbar button:hover, & .ql-snow.ql-toolbar button:focus, & .ql-snow .ql-toolbar button:focus, & .ql-snow.ql-toolbar button.ql-active, & .ql-snow .ql-toolbar button.ql-active, & .ql-snow.ql-toolbar .ql-picker-label:hover, & .ql-snow .ql-toolbar .ql-picker-label:hover, & .ql-snow.ql-toolbar .ql-picker-label.ql-active, & .ql-snow .ql-toolbar .ql-picker-label.ql-active, & .ql-snow.ql-toolbar .ql-picker-item:hover, & .ql-snow .ql-toolbar .ql-picker-item:hover, & .ql-snow.ql-toolbar .ql-picker-item.ql-selected, & .ql-snow .ql-toolbar .ql-picker-item.ql-selected\":{color:theme.palette.primary.main,\"& polygon\":{stroke:theme.palette.primary.main+\" !important\"}}}});});var EditorModel=function EditorModel(_ref){var children=_ref.children;var classes=useStyles();var editorContext=useContext(EditorContext);var isOpen=editorContext.editorValue!==null;return React.createElement(Modal,{className:classes.modal,\"aria-labelledby\":\"simple-modal-title\",\"aria-describedby\":\"simple-modal-description\",open:isOpen,onClose:function onClose(event,reason){if(reason===\"escapeKeyDown\")editorContext.cancel();}},React.createElement(Fade,{in:isOpen},React.createElement(Paper,{className:classes.paper},children,React.createElement(Grid,{container:true,justify:\"space-between\"},React.createElement(Button,{size:\"small\",variant:\"outlined\",color:\"primary\",onClick:editorContext.close},\"Save\"),React.createElement(Button,{size:\"small\",variant:\"outlined\",color:\"secondary\",onClick:editorContext.cancel},\"cancel\")))));};export default EditorModel;","map":{"version":3,"sources":["/Users/monsama/firetable/www/src/components/EditorModal.tsx"],"names":["React","useContext","createStyles","makeStyles","EditorContext","Modal","Fade","Paper","Button","Grid","useStyles","theme","test","position","top","left","modal","display","alignItems","justifyContent","maxWidth","width","paper","padding","spacing","root","margin","color","palette","type","primary","dark","main","typography","textArea","fontSize","minWidth","quillEditor","minHeight","borderRadius","shape","transition","transitions","create","duration","shortest","fontFamily","text","fontStyle","disabled","borderColor","stroke","fill","backgroundColor","light","EditorModel","children","classes","editorContext","isOpen","editorValue","event","reason","cancel","close"],"mappings":"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","sourcesContent":["import React, { useContext, useRef, useEffect } from \"react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport EditorContext from \"contexts/editorContext\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Fade from \"@material-ui/core/Fade\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    test: { position: \"absolute\", top: 10, left: 10 },\n    modal: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      maxWidth: 600,\n      width: \"100%\",\n    },\n    paper: { padding: theme.spacing(2) },\n    root: {\n      margin: `${theme.spacing(1)}px 0`,\n\n      \"&:focus-within $sectionTitle\": {\n        color:\n          theme.palette.type === \"dark\"\n            ? theme.palette.primary.dark\n            : theme.palette.primary.main,\n      },\n    },\n    typography: {\n      padding: theme.spacing(2),\n    },\n    textArea: {\n      fontSize: 16,\n      minWidth: 230,\n      width: \"100%\",\n    },\n    quillEditor: {\n      minHeight: 100,\n\n      // match styling\n      \"& .ql-toolbar\": {\n        borderRadius: `${theme.shape.borderRadius}px ${theme.shape.borderRadius}px 0 0`,\n        transition: theme.transitions.create(\"border-color\", {\n          duration: theme.transitions.duration.shortest,\n        }),\n      },\n      \"& .ql-container\": {\n        borderRadius: `0 0 ${theme.shape.borderRadius}px ${theme.shape.borderRadius}px`,\n        transition: theme.transitions.create(\"border-color\", {\n          duration: theme.transitions.duration.shortest,\n        }),\n      },\n      \"& .ql-editor\": {\n        minHeight: 100,\n        fontFamily: theme.typography.fontFamily,\n        fontSize: \".875rem\",\n        color: theme.palette.text.primary,\n        \"&.ql-blank::before\": {\n          fontStyle: \"normal\",\n          color: theme.palette.text.disabled,\n        },\n      },\n\n      // highlight border on focus\n      \"&:focus-within .ql-toolbar.ql-snow, &:focus-within .ql-container.ql-snow\": {\n        borderColor: theme.palette.primary.main,\n      },\n\n      // buttons stroke/fill colour matching\n      \"& .ql-snow.ql-toolbar button, & .ql-snow .ql-picker-label\": {\n        borderRadius: theme.shape.borderRadius / 2,\n        transition: theme.transitions.create(\"background-color\", {\n          duration: theme.transitions.duration.shortest,\n        }),\n      },\n      \"& .ql-snow .ql-stroke\": {\n        stroke: theme.palette.text.primary,\n        transition: theme.transitions.create(\"stroke\", {\n          duration: theme.transitions.duration.shortest,\n        }),\n      },\n      \"& .ql-snow .ql-fill\": {\n        fill: theme.palette.text.primary,\n        transition: theme.transitions.create(\"fill\", {\n          duration: theme.transitions.duration.shortest,\n        }),\n      },\n\n      // colour buttons on hover\n      \"& button:hover .ql-stroke\": {\n        stroke: `${theme.palette.primary.main} !important`,\n      },\n      \"& button:hover .ql-fill\": {\n        fill: `${theme.palette.primary.main} !important`,\n      },\n\n      // highlight buttons when selected/active\n      \"& .ql-snow.ql-toolbar .ql-active\": {\n        backgroundColor: theme.palette.primary.light,\n        \"& .ql-stroke\": {\n          stroke: `${theme.palette.primary.main} !important`,\n        },\n        \"& .ql-fill\": {\n          fill: `${theme.palette.primary.main} !important`,\n        },\n      },\n\n      // dropdown styling\n      \"& .ql-snow.ql-toolbar button:hover, & .ql-snow .ql-toolbar button:hover, & .ql-snow.ql-toolbar button:focus, & .ql-snow .ql-toolbar button:focus, & .ql-snow.ql-toolbar button.ql-active, & .ql-snow .ql-toolbar button.ql-active, & .ql-snow.ql-toolbar .ql-picker-label:hover, & .ql-snow .ql-toolbar .ql-picker-label:hover, & .ql-snow.ql-toolbar .ql-picker-label.ql-active, & .ql-snow .ql-toolbar .ql-picker-label.ql-active, & .ql-snow.ql-toolbar .ql-picker-item:hover, & .ql-snow .ql-toolbar .ql-picker-item:hover, & .ql-snow.ql-toolbar .ql-picker-item.ql-selected, & .ql-snow .ql-toolbar .ql-picker-item.ql-selected\": {\n        color: theme.palette.primary.main,\n\n        \"& polygon\": { stroke: theme.palette.primary.main + \" !important\" },\n      },\n    },\n  })\n);\ninterface Props {}\n\nconst EditorModel = ({ children }: any) => {\n  const classes = useStyles();\n  const editorContext = useContext(EditorContext);\n  const isOpen = editorContext.editorValue !== null;\n  return (\n    <Modal\n      className={classes.modal}\n      aria-labelledby=\"simple-modal-title\"\n      aria-describedby=\"simple-modal-description\"\n      open={isOpen}\n      onClose={(event: {}, reason: \"backdropClick\" | \"escapeKeyDown\") => {\n        if (reason === \"escapeKeyDown\") editorContext.cancel();\n      }}\n    >\n      <Fade in={isOpen}>\n        <Paper className={classes.paper}>\n          {children}\n          <Grid container justify=\"space-between\">\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={editorContext.close}\n            >\n              Save\n            </Button>\n            <Button\n              size=\"small\"\n              variant=\"outlined\"\n              color=\"secondary\"\n              onClick={editorContext.cancel}\n            >\n              cancel\n            </Button>\n          </Grid>\n        </Paper>\n      </Fade>\n    </Modal>\n  );\n};\nexport default EditorModel;\n"]},"metadata":{},"sourceType":"module"}