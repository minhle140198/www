{"ast":null,"code":"import _objectWithoutProperties from\"/Users/monsama/firetable/www/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React from\"react\";import{createStyles,makeStyles}from\"@material-ui/core/styles\";import Button from\"@material-ui/core/Button\";import{db}from\"../../firebase\";var useStyles=makeStyles(function(theme){return createStyles({button:{margin:theme.spacing(1)},input:{display:\"none\"}});});export default function Action(props){var row=props.row,value=props.value,fieldName=props.fieldName,onSubmit=props.onSubmit;var createdAt=row.createdAt,updatedAt=row.updatedAt,rowHeight=row.rowHeight,id=row.id,ref=row.ref,docData=_objectWithoutProperties(row,[\"createdAt\",\"updatedAt\",\"rowHeight\",\"id\",\"ref\"]);var classes=useStyles();var handleClick=function handleClick(){var fieldsToSync=[\"firstName\",\"lastName\",\"preferredName\",\"personalBio\",\"founderType\",\"cohort\",\"ordering\",\"email\",\"profilePhoto\",\"twitter\",\"employerLogos\",\"linkedin\",\"publicProfile\",\"companies\"];var data=fieldsToSync.reduce(function(acc,curr){if(row[curr]){acc[curr]=row[curr];return acc;}else return acc;},{});db.collection(fieldName).doc(id).set(data,{merge:true});onSubmit(true);};return React.createElement(Button,{variant:\"outlined\",onClick:handleClick,color:\"primary\",className:classes.button//   disabled={!!value}\n},value?\"done\":\"Create in \".concat(fieldName));}","map":{"version":3,"sources":["/Users/monsama/firetable/www/src/components/Fields/Action.tsx"],"names":["React","createStyles","makeStyles","Button","db","useStyles","theme","button","margin","spacing","input","display","Action","props","row","value","fieldName","onSubmit","createdAt","updatedAt","rowHeight","id","ref","docData","classes","handleClick","fieldsToSync","data","reduce","acc","curr","collection","doc","set","merge"],"mappings":"uKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,YAAT,CAAuBC,UAAvB,KAAgD,0BAAhD,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,OAASC,EAAT,KAAmB,gBAAnB,CAGA,GAAMC,CAAAA,SAAS,CAAGH,UAAU,CAAC,SAACI,KAAD,QAC3BL,CAAAA,YAAY,CAAC,CACXM,MAAM,CAAE,CACNC,MAAM,CAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADF,CADG,CAIXC,KAAK,CAAE,CACLC,OAAO,CAAE,MADJ,CAJI,CAAD,CADe,EAAD,CAA5B,CAuBA,cAAe,SAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAA8B,IACnCC,CAAAA,GADmC,CACCD,KADD,CACnCC,GADmC,CAC9BC,KAD8B,CACCF,KADD,CAC9BE,KAD8B,CACvBC,SADuB,CACCH,KADD,CACvBG,SADuB,CACZC,QADY,CACCJ,KADD,CACZI,QADY,IAEnCC,CAAAA,SAFmC,CAEsBJ,GAFtB,CAEnCI,SAFmC,CAExBC,SAFwB,CAEsBL,GAFtB,CAExBK,SAFwB,CAEbC,SAFa,CAEsBN,GAFtB,CAEbM,SAFa,CAEFC,EAFE,CAEsBP,GAFtB,CAEFO,EAFE,CAEEC,GAFF,CAEsBR,GAFtB,CAEEQ,GAFF,CAEUC,OAFV,0BAEsBT,GAFtB,mDAG3C,GAAMU,CAAAA,OAAO,CAAGnB,SAAS,EAAzB,CACA,GAAMoB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMC,CAAAA,YAAY,CAAG,CACnB,WADmB,CAEnB,UAFmB,CAGnB,eAHmB,CAInB,aAJmB,CAKnB,aALmB,CAMnB,QANmB,CAOnB,UAPmB,CAQnB,OARmB,CASnB,cATmB,CAUnB,SAVmB,CAWnB,eAXmB,CAYnB,UAZmB,CAanB,eAbmB,CAcnB,WAdmB,CAArB,CAgBA,GAAMC,CAAAA,IAAI,CAAGD,YAAY,CAACE,MAAb,CAAoB,SAACC,GAAD,CAAWC,IAAX,CAA4B,CAC3D,GAAIhB,GAAG,CAACgB,IAAD,CAAP,CAAe,CACbD,GAAG,CAACC,IAAD,CAAH,CAAYhB,GAAG,CAACgB,IAAD,CAAf,CACA,MAAOD,CAAAA,GAAP,CACD,CAHD,IAGO,OAAOA,CAAAA,GAAP,CACR,CALY,CAKV,EALU,CAAb,CAMAzB,EAAE,CAAC2B,UAAH,CAAcf,SAAd,EACGgB,GADH,CACOX,EADP,EAEGY,GAFH,CAEON,IAFP,CAEa,CAAEO,KAAK,CAAE,IAAT,CAFb,EAGAjB,QAAQ,CAAC,IAAD,CAAR,CACD,CA3BD,CA4BA,MACE,qBAAC,MAAD,EACE,OAAO,CAAC,UADV,CAEE,OAAO,CAAEQ,WAFX,CAGE,KAAK,CAAC,SAHR,CAIE,SAAS,CAAED,OAAO,CAACjB,MACnB;AALF,EAOGQ,KAAK,4BAAyBC,SAAzB,CAPR,CADF,CAWD","sourcesContent":["import React from \"react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport { db } from \"../../firebase\";\nimport useDoc from \"hooks/useDoc\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    button: {\n      margin: theme.spacing(1),\n    },\n    input: {\n      display: \"none\",\n    },\n  })\n);\ninterface Props {\n  value: any;\n  fieldName: string;\n  // row: {\n  //   ref: firebase.firestore.DocumentReference;\n  //   id: string;\n  //   createdAt: any;\n  //   rowHeight: number;\n  //   updatedAt: any;\n  // };\n  row: any;\n  onSubmit: Function;\n}\nexport default function Action(props: Props) {\n  const { row, value, fieldName, onSubmit } = props;\n  const { createdAt, updatedAt, rowHeight, id, ref, ...docData } = row;\n  const classes = useStyles();\n  const handleClick = () => {\n    const fieldsToSync = [\n      \"firstName\",\n      \"lastName\",\n      \"preferredName\",\n      \"personalBio\",\n      \"founderType\",\n      \"cohort\",\n      \"ordering\",\n      \"email\",\n      \"profilePhoto\",\n      \"twitter\",\n      \"employerLogos\",\n      \"linkedin\",\n      \"publicProfile\",\n      \"companies\",\n    ];\n    const data = fieldsToSync.reduce((acc: any, curr: string) => {\n      if (row[curr]) {\n        acc[curr] = row[curr];\n        return acc;\n      } else return acc;\n    }, {});\n    db.collection(fieldName)\n      .doc(id)\n      .set(data, { merge: true });\n    onSubmit(true);\n  };\n  return (\n    <Button\n      variant=\"outlined\"\n      onClick={handleClick}\n      color=\"primary\"\n      className={classes.button}\n      //   disabled={!!value}\n    >\n      {value ? `done` : `Create in ${fieldName}`}\n    </Button>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}