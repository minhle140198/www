(this.webpackJsonpfiretable=this.webpackJsonpfiretable||[]).push([[14],{176:function(e,a,t){"use strict";t.d(a,"a",(function(){return i}));var n=t(0),r=t(18);function i(){return Object(n.useContext)(r.e)}},220:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var n,r=t(16),i=t(160),c=t(57),o=t(0);!function(e){e[e.update=0]="update",e[e.delete=1]="delete"}(n||(n={}));var l=function(e,a){switch(a.action){case n.update:return e.ref.update(Object(i.a)({},a.data)),Object(i.a)({},e,{doc:Object(i.a)({},e.doc,{},a.data)});case n.delete:return e.ref.delete(),null;default:return Object(i.a)({},e,{},a)}},s={path:null,prevPath:null,doc:null,ref:null,loading:!0};a.b=function(e){var a=Object(o.useReducer)(l,Object(i.a)({},s,{},e)),t=Object(r.a)(a,2),n=t[0],d=t[1];return Object(o.useEffect)((function(){var e=n.path,a=n.prevPath,t=n.unsubscribe;e&&e!==a&&(t&&t(),function(){d({prevPath:n.path});var e=c.c.doc(n.path).onSnapshot((function(e){if(e.exists){var a=e.data(),t=e.id,n=Object(i.a)({},a,{id:t});d({doc:n,ref:e.ref,loading:!1})}else d({loading:!1})}));d({unsubscribe:e})}())}),[n]),Object(o.useEffect)((function(){return function(){n.unsubscribe&&n.unsubscribe()}}),[]),[n,d]}},253:function(e,a,t){"use strict";t.d(a,"a",(function(){return j}));var n=t(16),r=t(0),i=t.n(r),c=t(254),o=t.n(c),l=t(217),s=t.n(l),d=t(176),m=t(747),u=t(750),b=t(751),p=t(754),f=t(755),g=t(756),h=t(786),v=t(764),O=t(746);function j(e){var a=e.classes,t=void 0===a?{}:a,c=e.createTable,l=Object(d.a)(),j=i.a.useState(!1),E=Object(n.a)(j,2),y=E[0],x=E[1],w=Object(r.useState)(""),N=Object(n.a)(w,2),k=N[0],C=N[1],L=Object(r.useState)(""),R=Object(n.a)(L,2),S=R[0],W=R[1];function M(){C(""),W(""),x(!1)}return Object(r.useEffect)((function(){W(o()(k))}),[k]),i.a.createElement("div",null,i.a.createElement(m.a,{title:"Create a table"},i.a.createElement(u.a,{className:t.fab,color:"secondary","aria-label":"Create table",onClick:function(){x(!0)}},i.a.createElement(s.a,null))),i.a.createElement(b.a,{open:y,onClose:M,"aria-labelledby":"form-dialog-title"},i.a.createElement(p.a,{id:"form-dialog-title"},"New table"),i.a.createElement(f.a,null,i.a.createElement(g.a,null,"Create a new Table"),i.a.createElement(h.a,{autoFocus:!0,onChange:function(e){C(e.target.value)},margin:"dense",id:"name",label:"Table Name",type:"email",fullWidth:!0}),i.a.createElement(h.a,{value:S,onChange:function(e){W(e.target.value)},margin:"dense",id:"collection",label:"Collection Name",type:"email",fullWidth:!0})),i.a.createElement(v.a,null,i.a.createElement(O.a,{onClick:M,color:"primary"},"Cancel"),i.a.createElement(O.a,{onClick:function(){c(k,S),"/"===l.location.pathname?l.history.push("table/".concat(S)):l.history.push(S),M()},color:"primary"},"Create"))))}},259:function(e,a,t){"use strict";var n=t(159),r=t(16),i=t(0),c=t(220),o=t(57);a.a=function(){var e=Object(c.b)({path:"_FIRETABLE_/settings"}),a=Object(r.a)(e,2),t=a[0],l=a[1];Object(i.useEffect)((function(){var e=t.doc,a=t.tables;e&&a!==e.tables&&l({tables:e.tables})}),[t]);return[t,function(e,a){var r=t.tables;r?l({action:c.a.update,data:{tables:[].concat(Object(n.a)(r),[{name:e,collection:a}])}}):o.c.doc("_FIRETABLE_/settings").set({tables:[{name:e,collection:a}]},{merge:!0}),o.c.collection(a).doc("_FIRETABLE_").set({columns:[]})}]}},400:function(e,a,t){"use strict";var n=t(1),r=t(3),i=t(0),c=t.n(i),o=(t(4),t(7)),l=t(149),s=t(9),d=c.a.forwardRef((function(e,a){var t=e.classes,i=e.className,s=e.raised,d=void 0!==s&&s,m=Object(r.a)(e,["classes","className","raised"]);return c.a.createElement(l.a,Object(n.a)({className:Object(o.a)(t.root,i),elevation:d?8:1,ref:a},m))}));a.a=Object(s.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(d)},401:function(e,a,t){"use strict";var n=t(1),r=t(3),i=t(0),c=t.n(i),o=(t(4),t(7)),l=t(9),s=c.a.forwardRef((function(e,a){var t=e.classes,i=e.className,l=e.component,s=void 0===l?"div":l,d=Object(r.a)(e,["classes","className","component"]);return c.a.createElement(s,Object(n.a)({className:Object(o.a)(t.root,i),ref:a},d))}));a.a=Object(l.a)({root:{padding:16,"&:last-child":{paddingBottom:24}}},{name:"MuiCardContent"})(s)},562:function(e,a,t){e.exports=t.p+"static/media/firetable.54424609.svg"},563:function(e,a,t){"use strict";var n=t(15);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var r=n(t(0)),i=(0,n(t(81)).default)(r.default.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight");a.default=i},778:function(e,a,t){"use strict";t.r(a);var n,r=t(16),i=t(171),c=t(160),o=t(0),l=t.n(o),s=t(47),d=t(78),m=t(1),u=t(3),b=t(5),p=(t(4),t(7)),f=t(9),g=t(13),h=l.a.forwardRef((function(e,a){var t=e.classes,n=e.className,r=e.component,i=void 0===r?"div":r,c=e.disableGutters,o=void 0!==c&&c,s=e.fixed,d=void 0!==s&&s,b=e.maxWidth,f=void 0===b?"lg":b,h=Object(u.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return l.a.createElement(i,Object(m.a)({className:Object(p.a)(t.root,n,d&&t.fixed,o&&t.disableGutters,!1!==f&&t["maxWidth".concat(Object(g.a)(String(f)))]),ref:a},h))})),v=Object(f.a)((function(e){var a;return{root:(a={width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},Object(b.a)(a,e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),Object(b.a)(a,e.breakpoints.up("md"),{paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}),a),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(a,t){var n=e.breakpoints.values[t];return 0!==n&&(a[e.breakpoints.up(t)]={maxWidth:n}),a}),{}),maxWidthXs:Object(b.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(b.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(b.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(b.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(b.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(h),O=t(48),j=t(56),E=t(23),y=l.a.forwardRef((function(e,a){var t=e.absolute,n=void 0!==t&&t,r=e.classes,i=e.className,c=e.component,o=void 0===c?"hr":c,s=e.light,d=void 0!==s&&s,b=e.orientation,f=void 0===b?"horizontal":b,g=e.role,h=void 0===g?"hr"!==o?"separator":void 0:g,v=e.variant,O=void 0===v?"fullWidth":v,j=Object(u.a)(e,["absolute","classes","className","component","light","orientation","role","variant"]);return l.a.createElement(o,Object(m.a)({className:Object(p.a)(r.root,i,"fullWidth"!==O&&r[O],n&&r.absolute,d&&r.light,{vertical:r.vertical}[f]),role:h,ref:a},j))})),x=Object(f.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(E.c)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1}}}),{name:"MuiDivider"})(y),w=t(259);!function(e){e.home="/",e.auth="/auth",e.table="/table",e.editor="/editor"}(n||(n={}));var N=n,k=t(40),C=t(59);function L(e,a,t){var n,r=t.disableHysteresis,i=void 0!==r&&r,c=t.threshold,o=void 0===c?100:c,l=a.current;return a.current=e?void 0!==(n=e.currentTarget).pageYOffset?n.pageYOffset:n.scrollTop:l,!(!i&&void 0!==l&&a.current<l)&&a.current>o}var R="undefined"!==typeof window?window:null;var S=t(55),W=t(129);var M=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object(S.a)(),n=Object(W.a)({theme:t,name:"MuiUseMediaQuery",props:{}}),r="function"===typeof e?e(t):e;r=r.replace(/^@media( ?)/m,"");var i="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,c=Object(m.a)({},n,{},a),o=c.defaultMatches,s=void 0!==o&&o,d=c.matchMedia,u=void 0===d?i?window.matchMedia:null:d,b=c.noSsr,p=void 0!==b&&b,f=c.ssrMatchMedia,g=void 0===f?null:f,h=l.a.useState((function(){return p&&i?u(r).matches:g?g(r).matches:s})),v=h[0],O=h[1];return l.a.useEffect((function(){var e=!0;if(i){var a=u(r),t=function(){e&&O(a.matches)};return t(),a.addListener(t),function(){e=!1,a.removeListener(t)}}}),[r,u,i]),v},T=t(765),B=t(766),A=t(562),F=t.n(A),_=Object(s.a)((function(e){return Object(d.a)({appBar:{backgroundColor:e.palette.background.paper,marginBottom:e.spacing(8)},toolbar:Object(i.a)({},e.breakpoints.up("md"),{minHeight:80}),logo:{display:"block",marginRight:e.spacing(1)},heading:{textTransform:"none",color:"#ed4746",cursor:"default",userSelect:"none"},locationDropdown:{minWidth:140,margin:0}})})),H=function(){var e=_(),a=Object(C.a)(),t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.getTrigger,t=void 0===a?L:a,n=e.target,r=void 0===n?R:n,i=Object(u.a)(e,["getTrigger","target"]),c=l.a.useRef(),o=l.a.useState((function(){return t(null,c,i)})),s=o[0],d=o[1];return l.a.useEffect((function(){var e=function(e){d(t(e,c,i))};return e(null),r.addEventListener("scroll",e),function(){r.removeEventListener("scroll",e)}}),[r,t,JSON.stringify(i)]),s}({disableHysteresis:!0,threshold:0}),n=M(a.breakpoints.down("md"));return l.a.createElement(T.a,{position:"sticky",color:"default",className:e.appBar,elevation:t?4:0},l.a.createElement(B.a,{className:e.toolbar},l.a.createElement(O.a,{item:!0},l.a.createElement("img",{src:F.a,width:"32",height:"32",alt:"Firetable",className:e.logo})),l.a.createElement(O.a,{item:!0,xs:!0},l.a.createElement(j.a,{variant:n?"h6":"h4",color:"primary",component:"h1",className:e.heading},"firetable"))))},G=t(36),I=t(37),P=t(400),z=t(401),J=["video","audio","picture","iframe","img"],D=l.a.forwardRef((function(e,a){var t=e.children,n=e.classes,r=e.className,i=e.component,c=void 0===i?"div":i,o=e.image,s=e.src,d=e.style,b=Object(u.a)(e,["children","classes","className","component","image","src","style"]),f=-1!==J.indexOf(c),g=!f&&o?Object(m.a)({backgroundImage:'url("'.concat(o,'")')},d):d;return l.a.createElement(c,Object(m.a)({className:Object(p.a)(n.root,r,f&&n.media,-1!=="picture img".indexOf(c)&&n.img),ref:a,style:g,src:f?o||s:void 0},b),t)})),U=Object(f.a)({root:{display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},media:{width:"100%"},img:{objectFit:"cover"}},{name:"MuiCardMedia"})(D),X=l.a.forwardRef((function(e,a){var t=e.disableSpacing,n=void 0!==t&&t,r=e.classes,i=e.className,c=Object(u.a)(e,["disableSpacing","classes","className"]);return l.a.createElement("div",Object(m.a)({className:Object(p.a)(r.root,i,!n&&r.spacing),ref:a},c))})),Y=Object(f.a)({root:{display:"flex",alignItems:"center",padding:8},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiCardActions"})(X),Q=t(746),q=t(563),K=t.n(q),V=function(e){return l.a.createElement(K.a,Object.assign({style:{marginLeft:-8}},e))},Z=Object(s.a)((function(e){return Object(d.a)({root:{width:"100%"},container:{height:"100%"},cardContent:{"&:last-child":{paddingBottom:0}},headerSection:{marginBottom:e.spacing(1)},overline:{marginBottom:e.spacing(2),color:e.palette.text.disabled},title:{whiteSpace:"pre-line"},image:{width:80,height:80,borderRadius:e.shape.borderRadius},cardActions:{padding:e.spacing(1),display:"flex",justifyContent:"space-between"},divider:{margin:e.spacing(2),marginBottom:0}})}));function $(e){var a=e.className,t=e.overline,n=e.title,r=e.imageSource,i=e.bodyContent,c=e.primaryButton,o=e.primaryLink,s=e.secondaryAction,d=Z();return l.a.createElement(P.a,{className:Object(p.a)(a,d.root)},l.a.createElement(O.a,{container:!0,direction:"column",wrap:"nowrap",className:d.container},l.a.createElement(O.a,{item:!0,xs:!0},l.a.createElement(z.a,{className:Object(p.a)(d.container,d.cardContent)},l.a.createElement(O.a,{container:!0,direction:"column",wrap:"nowrap",className:d.container},l.a.createElement(O.a,{item:!0},l.a.createElement(O.a,{container:!0,className:d.headerSection,spacing:3},l.a.createElement(O.a,{item:!0,xs:!0},t&&l.a.createElement(j.a,{variant:"overline",className:d.overline},t),n&&l.a.createElement(j.a,{variant:"h5",className:d.title},n)),r&&l.a.createElement(O.a,{item:!0},l.a.createElement(U,{className:d.image,image:r,title:n})))),l.a.createElement(O.a,{item:!0,xs:!0},i&&Array.isArray(i)?l.a.createElement(O.a,{container:!0,direction:"column",wrap:"nowrap",justify:"space-between"},i.map((function(e){return l.a.createElement(O.a,{item:!0},e)}))):i)))),l.a.createElement(O.a,{item:!0},l.a.createElement(x,{className:d.divider}),l.a.createElement(Y,{className:d.cardActions},c&&l.a.createElement(Q.a,Object.assign({color:"primary"},c)),o&&l.a.createElement(Q.a,{color:"primary",component:I.b,to:o.to,children:o.children||o.label,endIcon:l.a.createElement(V,null)}),s))))}var ee=t(253),ae=Object(s.a)((function(e){var a;return Object(d.a)({root:{minHeight:"100vh",paddingBottom:e.spacing(8)},greeting:{textTransform:"uppercase",letterSpacing:3,display:"inline-block",verticalAlign:"middle"},newChip:Object(c.a)({},e.typography.overline,{backgroundColor:e.palette.text.secondary,color:e.palette.getContrastText(e.palette.text.secondary),marginLeft:e.spacing(4)}),newChipLabel:{padding:e.spacing(0,2)},divider:{margin:e.spacing(2,0,4)},cardGrid:Object(i.a)({},e.breakpoints.down("xs"),{maxWidth:360,margin:"0 auto"}),card:(a={height:"100%"},Object(i.a)(a,e.breakpoints.up("md"),{minHeight:220}),Object(i.a)(a,e.breakpoints.down("md"),{minHeight:180}),a),createTableContainer:{alignSelf:"flex-end",marginLeft:"auto"},createTableFab:{width:80,height:80,borderRadius:2*e.shape.borderRadius,"& svg":{width:"2em",height:"2em"}}})}));a.default=function(){var e=ae(),a=Object(o.useContext)(k.a).currentUser,t=Object(w.a)(),n=Object(r.a)(t,2),i=n[0],c=n[1],s=i.tables;return l.a.createElement("main",{className:e.root},l.a.createElement(H,null),l.a.createElement(v,null,l.a.createElement(O.a,{container:!0,spacing:2,justify:"center"},l.a.createElement(O.a,{item:!0,xs:!0},l.a.createElement(j.a,{variant:"h5",color:"textSecondary",component:"h2",className:e.greeting},"Hi ",a.displayName.split(" ")[0],"!"))),l.a.createElement(x,{className:e.divider}),l.a.createElement(O.a,{container:!0,spacing:4,justify:"space-between",className:e.cardGrid},Array.isArray(s)?s.map((function(a){return l.a.createElement(O.a,{key:a.name,item:!0,xs:12,sm:6,md:4},l.a.createElement($,{className:e.card,overline:"Primary",title:a.name,bodyContent:a.description,primaryLink:{to:"".concat(N.table,"/").concat(a.collection),label:"Open"}}))})):l.a.createElement(G.a,null),l.a.createElement(O.a,{item:!0,className:e.createTableContainer},l.a.createElement(ee.a,{createTable:c,classes:{fab:e.createTableFab}})))))}}}]);
//# sourceMappingURL=14.ef848ba6.chunk.js.map